//ecGPIO2.h

#ifndef __ECGPIO2_H
#define __ECGPIO2_H

#include "stm32f411xe.h"   
#include "ecRCC2.h"      
#include "ecPinNames.h"    

#define CLEAR_2BIT(PORT, PIN) ((PORT) &= ~(3<<2*PIN)) 

// GPIO 모드
#define INPUT  0x00
#define OUTPUT 0x01
#define AF     0x02  // Alternate function
#define ANALOG 0x03

// GPIO 속도
#define LS     0x00  // Low speed
#define MS     0x01  // Medium speed
#define FS     0x02  // Fast speed
#define HS     0x03  // High speed

// GPIO 출력
#define OPP    0x00  // Output push-pull
#define OOD    0x01  // Output open drain

// GPIO 풀업/풀다운
#define NPUPD  0x00  // No pull-up, pull-down
#define PU     0x01  // Pull-up
#define PD     0x02  // Pull-down
#define RE     0x03  // Reserved

#define HIGH 1
#define LOW  0

#ifdef __cplusplus
extern "C" {
#endif

// 함수 선언
void GPIO_init(PinName_t pinName, uint32_t mode);
void GPIO_mode(PinName_t pinName, uint32_t mode);
void GPIO_ospeed(PinName_t pinName, int speed);
void GPIO_otype(PinName_t pinName, int type);
void GPIO_pupd(PinName_t pinName, int pupd);
void GPIO_write(PinName_t pinName, int output);
int GPIO_read(PinName_t pinName);

void Delay(uint32_t ms);
void GPIO_configure(PinName_t pin, uint32_t mode, int type, int speed, int pupd);

void sevensegment_display_init(PinName_t pinNameA, PinName_t pinNameB, PinName_t pinNameC, PinName_t pinNameD);
void sevensegment_display(uint8_t num);

#ifdef __cplusplus
}
#endif

#endif // __ECGPIO2_H
